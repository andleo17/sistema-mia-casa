# Migration `20200615183747-arreglando-algunas-columnas--producto-y-detalle-compra`

This migration has been generated by Andres Baldarrago at 6/15/2020, 6:37:47 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."DetalleCompra" DROP COLUMN "cantidad",
ADD COLUMN "cantidad" Decimal(65,30)  NOT NULL ;

ALTER TABLE "public"."Producto" ALTER COLUMN "cantidad" SET DEFAULT 0,
ALTER COLUMN "descripcion" DROP NOT NULL;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200614220949-cambiando-la-clave-foranea-entre-personal-y-credencial..20200615183747-arreglando-algunas-columnas--producto-y-detalle-compra
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model Cargo {
   id       Int        @default(autoincrement()) @id
@@ -58,9 +58,9 @@
   insumoId Int
   compra   Compra @relation(fields: [compraId], references: [id])
   compraId Int
   importe  Float
-  cantidad Int
+  cantidad Float
   unidad   String
   @@id([insumoId, compraId])
 }
@@ -75,10 +75,10 @@
   id                Int              @default(autoincrement()) @id
   tipoProducto      TipoProducto     @relation(fields: [tipoProductoId], references: [id])
   tipoProductoId    Int
   nombre            String
-  descripcion       String
-  cantidad          Int
+  descripcion       String?
+  cantidad          Int              @default(0)
   precio            Float
   estado            Boolean          @default(true)
   imagen            String
   pedidosRealizados DetallePedido[]
```


