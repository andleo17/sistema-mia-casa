# Migration `20200721110458-agregando-monto-a-pedido`

This migration has been generated by Andres Baldarrago at 7/21/2020, 11:04:58 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Credencial" ALTER COLUMN "rol" SET DEFAULT E'USUARIO';

ALTER TABLE "public"."Pedido" ADD COLUMN "monto" Decimal(65,30)  NOT NULL DEFAULT 0;

CREATE UNIQUE INDEX "Compra.serie_numero" ON "public"."Compra"("serie","numero")

CREATE UNIQUE INDEX "Pago.serie_numero" ON "public"."Pago"("serie","numero")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200719001918-cambiado-a-int-el-tipo-de-datos-de-las-series-y-numeros..20200721110458-agregando-monto-a-pedido
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
     provider = "postgresql"
-    url = "***"
+    url      = env("DATABASE_URL")
 }
 model Cargo {
     id       Int        @default(autoincrement()) @id
@@ -132,8 +132,9 @@
     personalId Int
     mesa       Mesa            @relation(fields: [mesaId], references: [id])
     mesaId     Int
     estado     Boolean         @default(true)
+    monto      Float           @default(0)
     fecha      DateTime        @default(now())
     productos  DetallePedido[]
 }
```


